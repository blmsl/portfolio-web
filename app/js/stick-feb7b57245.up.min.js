jQuery(function(s){"use strict";s(document).ready(function(){function t(){c="down",o()}function e(t){100>v?(s("."+p).removeClass(l),s("."+p+":eq(0)").addClass(l)):u-1>t&&v>r[t]-100&&v<r[t+1]+100&&(s("."+p).removeClass(l),s("."+p+":eq("+t+")").addClass(l))}function n(t){var e=s(window).width(),n=s(window).height(),o=s(document).scrollTop(),r=o+n,a=s(document).scrollLeft(),i=a+e,c=t.offset();return c.top>o&&c.top<r&&c.left>a&&c.left<i}function o(){if(v=parseInt(s(document).scrollTop()),null!=u)for(var t=0;u>t;t++)r[t]=s("#"+a[t]).offset().top,"down"==c&&(v>r[t]-100&&v<r[t]+100&&(s("."+p).removeClass(l),s("."+p+":eq("+t+")").addClass(l)),n(s("#"+a[u-1]+" h2:first"))&&(s("."+p).removeClass(l),s("."+p+":eq("+parseInt(u-1)+")").addClass(l))),"up"==c&&e(t);v+g>h&&(s(".wrapper").addClass("special-height"),s(".stuck-menu").addClass("is-stuck"),s(".stuck-menu").next().closest("div").css({"margin-top":d+m+f+"px"},10),s(".stuck-menu").css("position","fixed"),s(".is-stuck").css({top:"0px"},10)),h>v+g&&(s(".wrapper").removeClass("special-height"),s(".stuck-menu").removeClass("is-stuck"),s(".stuck-menu").next().closest("div").css({"margin-top":f+"px"},10),s(".stuck-menu").css("position","relative"))}var r=[],a=[],i=0,c="",p="",l="",u=null,d=0,m=0,f=0,g=0,h=0,v=0;s(window).scroll(function(){var t=s(this).scrollTop();c=t>i?"down":"up",i=t}),s.fn.stickUp=function(e){s(this).addClass("stuck-menu");var n=0;if(null!=e){for(var o in e.parts)e.parts.hasOwnProperty(o)&&(a[n]=e.parts[n],n++);0==n&&console.log("error:needs arguments"),p=e.itemClass,l=e.itemHover,null!=e.topMargin?"auto"==e.topMargin?g=parseInt(s(".stuck-menu").css("margin-top")):isNaN(e.topMargin)&&e.topMargin.search("px")>0?g=parseInt(e.topMargin.replace("px","")):isNaN(parseInt(e.topMargin))?(console.log("incorrect argument, ignored."),g=0):g=parseInt(e.topMargin):g=0,u=s("."+p).size()}d=parseInt(s(this).height()),m=parseInt(s(this).css("margin-bottom")),f=parseInt(s(this).next().closest("div").css("margin-top")),h=parseInt(s(this).offset().top),t()},s(document).on("scroll",function(){o()})})});
